[gd_scene load_steps=21 format=3 uid="uid://doxpxpkm7pkft"]

[ext_resource type="Script" uid="uid://c3wbrqqltlnk4" path="res://Scenes/bosses/boss.gd" id="1_8nkvc"]
[ext_resource type="Texture2D" uid="uid://btd4mqoye2o4g" path="res://assets/wimiProductions.png" id="2_dtj18"]
[ext_resource type="Texture2D" uid="uid://chcvt8vyac3il" path="res://assets/Sprites/Alexandra/counter.png" id="3_gapj7"]
[ext_resource type="Script" uid="uid://ckkwd4s8u2ot5" path="res://Scenes/bosses/moves.gd" id="3_iivl8"]
[ext_resource type="PackedScene" uid="uid://ds536tt1shwum" path="res://Scenes/bosses/alexandra/vira_lunge.tscn" id="4_dxsjm"]
[ext_resource type="Texture2D" uid="uid://y7ee67ou7ow2" path="res://assets/Sprites/Alexandra/diveSword.png" id="4_f4kdc"]
[ext_resource type="PackedScene" uid="uid://cswc87o23f4yc" path="res://Scenes/bosses/alexandra/alex_counter.tscn" id="5_1hafy"]
[ext_resource type="Texture2D" uid="uid://cda25riq0pvxe" path="res://assets/Sprites/Alexandra/idle.png" id="5_t77p3"]
[ext_resource type="Texture2D" uid="uid://d0h4fhi6w802r" path="res://assets/Sprites/Alexandra/fireball.png" id="6_741wg"]
[ext_resource type="PackedScene" uid="uid://wjwl6xgdyimn" path="res://Scenes/bosses/alexandra/fireball.tscn" id="6_gapj7"]
[ext_resource type="PackedScene" uid="uid://bl7627p04cq51" path="res://Scenes/areas/hitbox.tscn" id="7_f4kdc"]
[ext_resource type="Texture2D" uid="uid://x3qrqcj1si10" path="res://assets/Sprites/Alexandra/lunge.png" id="7_tx8as"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yrvcf"]
size = Vector2(76, 193)

[sub_resource type="SpriteFrames" id="SpriteFrames_rgjmt"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("3_gapj7")
}],
"loop": true,
"name": &"counter",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("4_f4kdc")
}],
"loop": true,
"name": &"counterAttack",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("6_741wg")
}],
"loop": true,
"name": &"fireball",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("5_t77p3")
}],
"loop": true,
"name": &"idle",
"speed": 5.0
}, {
"frames": [{
"duration": 1.0,
"texture": ExtResource("7_tx8as")
}],
"loop": true,
"name": &"lunge",
"speed": 5.0
}]

[sub_resource type="Animation" id="Animation_dfxk2"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("a2dHitbox/hitbox:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("a2dHitbox/hitbox:shape:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("a2dHitbox/hitbox:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector2(167.5, 44)]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("as2D:animation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"idle"]
}

[sub_resource type="Animation" id="Animation_juiuw"]
resource_name = "counter"
length = 0.500003
step = 0.0166667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("a2dHitbox/hitbox:shape:size")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.25, 0.416667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [Vector2(0, 0), Vector2(154, 224), Vector2(0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("a2dHitbox/hitbox:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [Vector2(0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("a2dHitbox/hitbox:disabled")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.25, 0.416667),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, false, true]
}
tracks/3/type = "value"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("as2D:animation")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"counter"]
}

[sub_resource type="Animation" id="Animation_q0qmg"]
resource_name = "fireball"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("as2D:animation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"fireball"]
}

[sub_resource type="Animation" id="Animation_02yex"]
resource_name = "lunge"
length = 0.500002
step = 0.0166667
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("a2dHitbox/hitbox:disabled")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.166667, 0.25),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [true, false, true]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("a2dHitbox/hitbox:shape:size")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 0.166667, 0.25),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [Vector2(0, 0), Vector2(345, 98), Vector2(0, 0)]
}
tracks/2/type = "value"
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/path = NodePath("a2dHitbox/hitbox:position")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/keys = {
"times": PackedFloat32Array(0, 0.166667, 0.25),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 1,
"values": [Vector2(0, 0), Vector2(167.5, 44), Vector2(0, 0)]
}
tracks/3/type = "method"
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/path = NodePath("moves/vira_lunge")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/keys = {
"times": PackedFloat32Array(0.166667),
"transitions": PackedFloat32Array(1),
"values": [{
"args": [],
"method": &"lunge"
}]
}
tracks/4/type = "value"
tracks/4/imported = false
tracks/4/enabled = true
tracks/4/path = NodePath("as2D:animation")
tracks/4/interp = 1
tracks/4/loop_wrap = true
tracks/4/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 1,
"values": [&"lunge"]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_mxf5f"]
_data = {
&"RESET": SubResource("Animation_dfxk2"),
&"counter": SubResource("Animation_juiuw"),
&"fireball": SubResource("Animation_q0qmg"),
&"lunge": SubResource("Animation_02yex")
}

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ymvms"]
size = Vector2(0, 0)

[node name="boss" type="CharacterBody2D" groups=["Enemy"]]
collision_layer = 65536
collision_mask = 65536
script = ExtResource("1_8nkvc")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_yrvcf")

[node name="Sprite2D" type="Sprite2D" parent="."]
visible = false
position = Vector2(0, 3.8147e-06)
scale = Vector2(0.153846, 0.375969)
texture = ExtResource("2_dtj18")

[node name="as2D" type="AnimatedSprite2D" parent="."]
scale = Vector2(0.15145229, 0.15145233)
sprite_frames = SubResource("SpriteFrames_rgjmt")
animation = &"idle"

[node name="moves" type="Node" parent="." node_paths=PackedStringArray("body", "ap")]
script = ExtResource("3_iivl8")
body = NodePath("..")
ap = NodePath("../ap")

[node name="vira_lunge" parent="moves" instance=ExtResource("4_dxsjm")]

[node name="alex_counter" parent="moves" instance=ExtResource("5_1hafy")]

[node name="fireball" parent="moves" instance=ExtResource("6_gapj7")]

[node name="ap" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_mxf5f")
}

[node name="a2dHitbox" parent="." instance=ExtResource("7_f4kdc")]

[node name="hitbox" type="CollisionShape2D" parent="a2dHitbox"]
position = Vector2(167.5, 44)
shape = SubResource("RectangleShape2D_ymvms")
disabled = true
debug_color = Color(0.99395, 0, 0.2298, 0.42)

[node name="tmrCooldown" type="Timer" parent="."]
one_shot = true

[connection signal="animation_finished" from="ap" to="." method="_on_ap_animation_finished"]
[connection signal="attackSuccessful" from="a2dHitbox" to="moves" method="attackSuccessful"]
[connection signal="timeout" from="tmrCooldown" to="." method="_on_tmr_cooldown_timeout"]
